import numpy as np
from batchgenerators.utilities.file_and_folder_operations import *
from nnunet.dataset_conversion.utils import generate_dataset_json
from nnunet.paths import nnUNet_raw_data, preprocessing_output_dir
from nnunet.utilities.file_conversions import convert_2d_image_to_nifti

if __name__ == '__main__':
    """
    nnU-Net was originally built for 3D images. It is also strongest when applied to 3D segmentation problems because a 
    large proportion of its design choices were built with 3D in mind. Also note that many 2D segmentation problems, 
    especially in the non-biomedical domain, may benefit from pretrained network architectures which nnU-Net does not
    support.
    Still, there is certainly a need for an out of the box segmentation solution for 2D segmentation problems. And 
    also on 2D segmentation tasks nnU-Net cam perform extremely well! We have, for example, won a 2D task in the cell 
    tracking challenge with nnU-Net (see our Nature Methods paper) and we have also successfully applied nnU-Net to 
    histopathological segmentation problems. 
    Working with 2D data in nnU-Net requires a small workaround in the creation of the dataset. Essentially, all images 
    must be converted to pseudo 3D images (so an image with shape (X, Y) needs to be converted to an image with shape 
    (1, X, Y). The resulting image must be saved in nifti format. Hereby it is important to set the spacing of the 
    first axis (the one with shape 1) to a value larger than the others. If you are working with niftis anyways, then 
    doing this should be easy for you. This example here is intended for demonstrating how nnU-Net can be used with 
    'regular' 2D images. We selected the massachusetts road segmentation dataset for this because it can be obtained 
    easily, it comes with a good amount of training cases but is still not too large to be difficult to handle.
    """


    # now start the conversion to nnU-Net:
    task_name = 'Task932_MBrain'
    target_base = join(nnUNet_raw_data, task_name)
    target_imagesTr = join(target_base, "imagesTr")
    #target_imagesTs = join(target_base, "imagesTs")
    #target_labelsTs = join(target_base, "labelsTs")
    target_labelsTr = join(target_base, "labelsTr")

    #maybe_mkdir_p(target_imagesTr)
    #maybe_mkdir_p(target_labelsTs)
    #maybe_mkdir_p(target_imagesTs)
    #maybe_mkdir_p(target_labelsTr)

    # convert the training examples. Not all training images have labels, so we just take the cases for which there are
    # labels
    #labels_dir_tr = join(base, 'training', 'output')
    #images_dir_tr = join(base, 'training', 'input')
    #training_cases = subfiles(labels_dir_tr, suffix='.png', join=False)
    #for t in training_cases:
    #    unique_name = t[:-4]  # just the filename with the extension cropped away, so img-2.png becomes img-2 as unique_name
    #    input_segmentation_file = join(labels_dir_tr, t)
    #    input_image_file = join(images_dir_tr, t)

    #    output_image_file = join(target_imagesTr, unique_name)  # do not specify a file ending! This will be done for you
    #    output_seg_file = join(target_labelsTr, unique_name)  # do not specify a file ending! This will be done for you

    #    # this utility will convert 2d images that can be read by skimage.io.imread to nifti. You don't need to do anything.
    #    # if this throws an error for your images, please just look at the code for this function and adapt it to your needs
    #    convert_2d_image_to_nifti(input_image_file, output_image_file, is_seg=False)

    #    # the labels are stored as 0: background, 255: road. We need to convert the 255 to 1 because nnU-Net expects
    #    # the labels to be consecutive integers. This can be achieved with setting a transform
    #    convert_2d_image_to_nifti(input_segmentation_file, output_seg_file, is_seg=True,
    #                              transform=lambda x: (x == 255).astype(int))

    ## now do the same for the test set
    #labels_dir_ts = join(base, 'testing', 'output')
    #images_dir_ts = join(base, 'testing', 'input')
    #testing_cases = subfiles(labels_dir_ts, suffix='.png', join=False)
    #for ts in testing_cases:
    #    unique_name = ts[:-4]
    #    input_segmentation_file = join(labels_dir_ts, ts)
    #    input_image_file = join(images_dir_ts, ts)

    #    output_image_file = join(target_imagesTs, unique_name)
    #    output_seg_file = join(target_labelsTs, unique_name)

    #    convert_2d_image_to_nifti(input_image_file, output_image_file, is_seg=False)
    #    convert_2d_image_to_nifti(input_segmentation_file, output_seg_file, is_seg=True,
    #                              transform=lambda x: (x == 255).astype(int))

    generate_dataset_json(join(target_base, 'dataset.json'), target_imagesTr, None, ('ad', 'dwi', 'fa', 'gfa', 'md', 'rd'),
                          labels={0: "Exterior", 1: "CH__Cerebrum_left", 2: "grey__Basic_cell_groups_and_regions_left", 3: "OB__Olfactory_bulb_left", 4: "AON__Anterior_olfactory_nucleus_left", 5: "FRP__Frontal_pole__cerebral_cortex_left", 6: "ORB__Orbital_area_left", 7: "PL__Prelimbic_area_left", 8: "ILA__Infralimbic_area_left", 9: "ACA__Anterior_cingulate_area_left", 10: "AI__Agranular_insular_area_left", 11: "GU__Gustatory_areas_left", 12: "PIR__Piriform_area_left", 13: "VISC__Visceral_area_left", 14: "MOp__Primary_motor_area_left", 15: "MOs__Secondary_motor_area_left", 16: "SSp__Primary_somatosensory_area_left", 17: "SSp-bfd__Primary_somatosensory_area__barrel_field_left", 18: "SSs__Supplemental_somatosensory_area_left", 19: "PTLp__Posterior_parietal_association_areas_left", 20: "AUD__Auditory_areas_left", 21: "TEa__Temporal_association_areas_left", 22: "ECT__Ectorhinal_area_left", 23: "PERI__Perirhinal_area_left", 24: "RSP__Retrosplenial_area_left", 25: "VIS__Visual_areas_left", 26: "VISp__Primary_visual_area_left", 27: "ENT__Entorhinal_area_left", 28: "SUBR__Subicular_region_left", 29: "HI__Hippocampus_left", 30: "HIP__Hippocampal_region_left", 31: "CA1__Field_CA1_left", 32: "CA3__Field_CA3_left", 33: "DG__Dentate_gyrus_left", 34: "DG-sg__Dentate_gyrus__granule_cell_layer_left", 35: "DG-po__Dentate_gyrus__polymorph_layer_left", 36: "CLA__Claustrum_left", 37: "CEA__Central_amygdalar_nucleus_left", 38: "sAMY__Striatum-like_amygdalar_nuclei_left", 39: "MEA__Medial_amygdalar_nucleus_left", 40: "LA__Lateral_amygdalar_nucleus_left", 41: "BLA__Basolateral_amygdalar_nucleus_left", 42: "BMA__Basomedial_amygdalar_nucleus_left", 43: "PA__Posterior_amygdalar_nucleus_left", 44: "COAz__Cortical_amygdalar_zones_left", 45: "EP__Endopiriform_nucleus_left", 46: "STR__Striatum_left", 47: "STRd__Striatum_dorsal_region_left", 48: "ACB__Nucleus_accumbens_left", 49: "FS__Fundus_of_striatum_left", 50: "OT__Olfactory_tubercle_left", 51: "GPe__Globus_pallidus__external_segment_left", 52: "GPi__Globus_pallidus__internal_segment_left", 53: "SI__Substantia_innominata_left", 54: "MSC__Medial_septal_complex_left", 55: "LS__Lateral_septal_nucleus_left", 56: "BST__Bed_nuclei_of_the_stria_terminalis_left", 57: "MA__Magnocellular_nucleus__Meynert__left", 58: "TH__Thalamus_left", 59: "AM__Anteromedial_nucleus_left", 60: "AD__Anterodorsal_nucleus_left", 61: "AV__Anteroventral_nucleus_of_thalamus_left", 62: "LD__Lateral_dorsal_nucleus_of_the_thalamus_left", 63: "VAL__Ventral_anterior-lateral_complex_of_the_thalamus_left", 64: "VM__Ventral_medial_nucleus_of_the_thalamus_left", 65: "VP__Ventral_posterior_complex_of_the_thalamus_left", 66: "VPM__Ventral_posteromedial_nucleus_of_the_thalamus_left", 67: "VPL__Ventral_posterolateral_nucleus_of_the_thalamus_left", 68: "PT__Parataenial_nucleus_left", 69: "PVT__Paraventricular_nucleus_of_the_thalamus_left", 70: "RE__Nucleus_of_reuniens_left", 71: "CL__Central_lateral_nucleus_of_the_thalamus_left", 72: "CM__Central_medial_nucleus_of_the_thalamus_left", 73: "PCN__Paracentral_nucleus_left", 
74: "PF__Parafascicular_nucleus_left", 75: "PIL__Posterior_intralaminar_thalamic_nucleus_left", 76: "MD__Mediodorsal_nucleus_of_thalamus_left", 77: "LP__Lateral_posterior_nucleus_of_the_thalamus_left", 78: "PO__Posterior_complex_of_the_thalamus_left", 79: "MGd__Medial_geniculate_complex__dorsal_part_left", 80: "MGv__Medial_geniculate_complex__ventral_part_left", 81: "MGm__Medial_geniculate_complex__medial_part_left", 82: "LGd__Dorsal_part_of_the_lateral_geniculate_complex_left", 83: "LGv__Ventral_part_of_the_lateral_geniculate_complex_left", 84: "RT__Reticular_nucleus_of_the_thalamus_left", 85: "LH__Lateral_habenula_left", 86: "MH__Medial_habenula_left", 87: "HY__Hypothalamus_left", 88: "MPN__Medial_preoptic_nucleus_left", 89: "AHN__Anterior_hypothalamic_nucleus_left", 90: "VMH__Ventromedial_hypothalamic_nucleus_left", 91: "PH__Posterior_hypothalamic_nucleus_left", 92: "MBO__Mammillary_body_left", 93: "SCH__Suprachiasmatic_nucleus_left", 94: "ARH__Arcuate_hypothalamic_nucleus_left", 95: "PVH__Paraventricular_hypothalamic_nucleus_left", 96: "LPO__Lateral_preoptic_area_left", 97: "TU__Tuberal_nucleus_left", 98: "LHA__Lateral_hypothalamic_area_left", 99: "STN__Subthalamic_nucleus_left", 100: "ZI__Zona_incerta_left", 101: "SCs__Superior_colliculus__sensory_related_left", 102: "SCm__Superior_colliculus__motor_related_left", 103: "IC__Inferior_colliculus_left", 104: "ICc__Inferior_colliculus__central_nucleus_left", 105: "PBG__Parabigeminal_nucleus_left", 106: "PPN__Pedunculopontine_nucleus_left", 107: "PRT__Pretectal_region_left", 108: "IIIR__Oculomotor_region_left", 109: "PAG__Periaqueductal_gray_left", 110: "RN__Red_nucleus_left", 111: "MRN__Midbrain_reticular_nucleus_left", 112: "CUN__Cuneiform_nucleus_left", 113: "IPN__Interpeduncular_nucleus_left", 114: "VTA__Ventral_tegmental_area_left", 115: "SNc__Substantia_nigra__compact_part_left", 116: "SNr__Substantia_nigra__reticular_part_left", 117: "DR__Dorsal_nucleus_raphe_left", 118: "P__Pons_left", 119: "NLL__Nucleus_of_the_lateral_lemniscus_left", 120: "SOC__Superior_olivary_complex_left", 121: "PB__Parabrachial_nucleus_left", 122: "PSV__Principal_sensory_nucleus_of_the_trigeminal_left", 123: "PCG__Pontine_central_gray_left", 124: "PG__Pontine_gray_left", 125: "VMc__Trigeminal_motor_complex_left", 126: "VII__Facial_motor_nucleus_left", 127: "DTN__Dorsal_tegmental_nucleus_left", 128: "LDT__Laterodorsal_tegmental_nucleus_left", 129: "TRN__Tegmental_reticular_nucleus_left", 130: "PRF__Pontine_reticular_formation_left", 131: "RVC__Raphe_ventral_complex_left", 132: "HEM__Hemispheric_regions_left", 133: "VERM__Vermal_regions_left", 134: "PFL__Paraflocculus_left", 135: "FLNOD__Floccular_nodular_region_left", 136: "DN__Dentate_nucleus_left", 137: "IP__Interposed_nucleus_left", 138: "FN__Fastigial_nucleus_left", 139: "VeCB__Vestibulocerebellar_nucleus_left", 140: "NTB__Nucleus_of_the_trapezoid_body_left", 141: "SPVr__Spinal_nucleus_of_the_trigeminal_region_left", 142: "NTS__Nucleus_of_the_solitary_tract_left", 
143: "DCO__Dorsal_cochlear_nucleus_left", 144: "VCO__Ventral_cochlear_nucleus_left", 145: "VNC__Vestibular_nuclei_left", 146: "SPIV__Spinal_vestibular_nucleus_left", 147: "DCN__Dorsal_column_nuclei_left", 148: "IO__Inferior_olivary_complex_left", 149: "PHY__Perihypoglossal_nuclei_left", 150: "DMX__Dorsal_motor_nucleus_of_the_vagus_nerve_left", 151: "XII__Hypoglossal_nucleus_left", 152: "MRz__Medullary_reticular_zone_left", 153: "IRN__Intermediate_reticular_nucleus_left", 154: "MY-sat__Medulla__raphe__behavioral_state_related_left", 155: "fiber_tracts__fiber_tracts_left", 156: "cc__corpus_callosum_left", 157: "cing__cingulum_bundle_left", 158: "ac__anterior_commissure_left", 159: "optc__optic_tract_and_chiasm_left", 160: "dhc__dorsal_hippocampal_commissure_left", 161: "fi__fimbria_left", 162: "fx__columns_of_the_fornix_left", 163: "st__stria_terminalis_left", 164: "lfbst__thalamus_related_left", 165: "mfb__medial_forebrain_bundle_left", 166: "fr__fasciculus_retroflexus_left", 167: "pc__posterior_commissure_left", 168: "cst__corticospinal_tract_left", 169: "ml__medial_lemniscus_left", 170: "ll__lateral_lemniscus_left", 171: "mlf__medial_longitudinal_fascicle_left", 172: "scp__superior_cerebelar_peduncles_left", 173: "icp__inferior_cerebellar_peduncle_left", 174: "Vn__Trigeminal_nerve_left", 175: "cVIIIn__cochlear_nerve_left", 176: "VL__lateral_ventricle_left", 177: "V3__third_ventricle_left", 178: "V4__fourth_ventricle_left", 179: "AQ__cerebral_aqueduct_left", 180: "Brain__Whole_brain__root__left", 
181: "CH__Cerebrum_right", 182: "grey__Basic_cell_groups_and_regions_right", 183: "OB__Olfactory_bulb_right", 184: "AON__Anterior_olfactory_nucleus", 185: "FRP__Frontal_pole__cerebral_cortex_right", 186: "ORB__Orbital_area_right", 187: "PL__Prelimbic_area_right", 188: "ILA__Infralimbic_area_right", 189: "ACA__Anterior_cingulate_area_right", 190: "AI__Agranular_insular_area_right", 191: "GU__Gustatory_areas_right", 192: "PIR__Piriform_area_right", 193: "VISC__Visceral_area_right", 194: "MOp__Primary_motor_area_right", 195: "MOs__Secondary_motor_area_right", 196: "SSp__Primary_somatosensory_area_right", 197: "SSp-bfd__Primary_somatosensory_area__barrel_field_right", 198: "SSs__Supplemental_somatosensory_area_right", 199: "PTLp__Posterior_parietal_association_areas_right", 200: "AUD__Auditory_areas_right", 201: "TEa__Temporal_association_areas_right", 202: "ECT__Ectorhinal_area_right", 203: "PERI__Perirhinal_area_right", 204: "RSP__Retrosplenial_area_right", 205: "VIS__Visual_areas_right", 206: "VISp__Primary_visual_area_right", 207: "ENT__Entorhinal_area_right", 208: "SUBR__Subicular_region_right", 209: "HI__Hippocampus_right", 210: "HIP__Hippocampal_region_right",211: "CA1__Field_CA1_right", 212: "CA3__Field_CA3_right", 213: "DG__Dentate_gyrus_right", 214: "DG-sg__Dentate_gyrus__granule_cell_layer_right", 215: "DG-po__Dentate_gyrus__polymorph_layer_right", 216: "CLA__Claustrum_right", 217: "CEA__Central_amygdalar_nucleus_right", 
218: "sAMY__Striatum-like_amygdalar_nuclei_right", 219: "MEA__Medial_amygdalar_nucleus_right", 220: "LA__Lateral_amygdalar_nucleus_right", 221: "BLA__Basolateral_amygdalar_nucleus_right", 222: "BMA__Basomedial_amygdalar_nucleus_right", 223: "PA__Posterior_amygdalar_nucleus_right", 224: "COAz__Cortical_amygdalar_zones_right", 225: "EP__Endopiriform_nucleus_right", 226: "STR__Striatum_right", 227: "STRd__Striatum_dorsal_region_right", 228: "ACB__Nucleus_accumbens_right", 229: "FS__Fundus_of_striatum_right", 230: "OT__Olfactory_tubercle_right", 231: "GPe__Globus_pallidus__external_segment_right", 232: "GPi__Globus_pallidus__internal_segment_right", 233: "SI__Substantia_innominata_right", 234: "MSC__Medial_septal_complex_right", 235: "LS__Lateral_septal_nucleus_right", 236: "BST__Bed_nuclei_of_the_stria_terminalis_right", 237: "MA__Magnocellular_nucleus__Meynert__right", 238: "TH__Thalamus_right", 239: "AM__Anteromedial_nucleus_right", 240: "AD__Anterodorsal_nucleus_right", 241: "AV__Anteroventral_nucleus_of_thalamus_right", 242: "LD__Lateral_dorsal_nucleus_of_the_thalamus_right", 243: "VAL__Ventral_anterior-lateral_complex_of_the_thalamus_right", 244: "VM__Ventral_medial_nucleus_of_the_thalamus_right", 245: "VP__Ventral_posterior_complex_of_the_thalamus_right", 246: "VPM__Ventral_posteromedial_nucleus_of_the_thalamus_right", 247: "VPL__Ventral_posterolateral_nucleus_of_the_thalamus_right", 248: "PT__Parataenial_nucleus_right", 249: "PVT__Paraventricular_nucleus_of_the_thalamus_right", 250: "RE__Nucleus_of_reuniens_right", 251: "CL__Central_lateral_nucleus_of_the_thalamus_right", 
252: "CM__Central_medial_nucleus_of_the_thalamus_right", 253: "PCN__Paracentral_nucleus_right", 254: "PF__Parafascicular_nucleus_right", 255: "PIL__Posterior_intralaminar_thalamic_nucleus_right", 256: "MD__Mediodorsal_nucleus_of_thalamus_right", 257: "LP__Lateral_posterior_nucleus_of_the_thalamus_right", 258: "PO__Posterior_complex_of_the_thalamus_right", 259: "MGd__Medial_geniculate_complex__dorsal_part_right", 260: "MGv__Medial_geniculate_complex__ventral_part_right", 261: "MGm__Medial_geniculate_complex__medial_part_right", 262: "LGd__Dorsal_part_of_the_lateral_geniculate_complex_right", 263: "LGv__Ventral_part_of_the_lateral_geniculate_complex_right", 264: "RT__Reticular_nucleus_of_the_thalamus_right", 265: "LH__Lateral_habenula_right", 266: "MH__Medial_habenula_right", 267: "HY__Hypothalamus_right", 268: "MPN__Medial_preoptic_nucleus_right", 269: "AHN__Anterior_hypothalamic_nucleus_right", 270: "VMH__Ventromedial_hypothalamic_nucleus_right", 271: "PH__Posterior_hypothalamic_nucleus_right", 272: "MBO__Mammillary_body_right", 273: "SCH__Suprachiasmatic_nucleus_right", 274: "ARH__Arcuate_hypothalamic_nucleus_right", 275: "PVH__Paraventricular_hypothalamic_nucleus_right", 276: "LPO__Lateral_preoptic_area_right", 277: "TU__Tuberal_nucleus_right", 278: "LHA__Lateral_hypothalamic_area_right", 279: "STN__Subthalamic_nucleus_right", 280: "ZI__Zona_incerta_right", 281: "SCs__Superior_colliculus__sensory_related_right", 282: "SCm__Superior_colliculus__motor_related_right", 283: "IC__Inferior_colliculus_right", 284: "ICc__Inferior_colliculus__central_nucleus_right", 285: "PBG__Parabigeminal_nucleus_right", 286: "PPN__Pedunculopontine_nucleus_right", 287: "PRT__Pretectal_region_right", 288: "IIIR__Oculomotor_region_right", 289: "PAG__Periaqueductal_gray_right", 290: "RN__Red_nucleus_right", 291: "MRN__Midbrain_reticular_nucleus_right", 292: "CUN__Cuneiform_nucleus_right", 293: "IPN__Interpeduncular_nucleus_right", 294: "VTA__Ventral_tegmental_area_right", 295: "SNc__Substantia_nigra__compact_part_right", 296: "SNr__Substantia_nigra__reticular_part_right", 297: "DR__Dorsal_nucleus_raphe_right", 298: "P__Pons_right", 299: "NLL__Nucleus_of_the_lateral_lemniscus_right", 300: "SOC__Superior_olivary_complex_right", 301: "PB__Parabrachial_nucleus_right", 302: "PSV__Principal_sensory_nucleus_of_the_trigeminal_right", 303: "PCG__Pontine_central_gray_right", 304: "PG__Pontine_gray_right", 305: "VMc__Trigeminal_motor_complex_right", 306: "VII__Facial_motor_nucleus_right", 307: "DTN__Dorsal_tegmental_nucleus_right", 308: "LDT__Laterodorsal_tegmental_nucleus_right", 309: "TRN__Tegmental_reticular_nucleus_right", 310: "PRF__Pontine_reticular_formation_right", 311: "RVC__Raphe_ventral_complex_right", 312: "HEM__Hemispheric_regions_right", 313: "VERM__Vermal_regions_right", 314: "PFL__Paraflocculus_right", 315: "FLNOD__Floccular_nodular_region_right", 316: "DN__Dentate_nucleus_right", 317: "IP__Interposed_nucleus_right", 
318: "FN__Fastigial_nucleus_right", 319: "VeCB__Vestibulocerebellar_nucleus_right", 320: "NTB__Nucleus_of_the_trapezoid_body_right", 321: "SPVr__Spinal_nucleus_of_the_trigeminal_region_right", 322: "NTS__Nucleus_of_the_solitary_tract_right", 323: "DCO__Dorsal_cochlear_nucleus_right", 324: "VCO__Ventral_cochlear_nucleus_right", 325: "VNC__Vestibular_nuclei_right", 326: "SPIV__Spinal_vestibular_nucleus_right", 327: "DCN__Dorsal_column_nuclei_right", 328: "IO__Inferior_olivary_complex_right", 329: "PHY__Perihypoglossal_nuclei_right", 330: "DMX__Dorsal_motor_nucleus_of_the_vagus_nerve_right", 331: "XII__Hypoglossal_nucleus_right", 332: "MRz__Medullary_reticular_zone_right", 333: "IRN__Intermediate_reticular_nucleus_right", 334: "MY-sat__Medulla__raphe__behavioral_state_related_right", 335: "fiber_tracts__fiber_tracts_right", 336: "cc__corpus_callosum_right", 337: "cing__cingulum_bundle_right", 338: "ac__anterior_commissure_right", 339: "optc__optic_tract_and_chiasm_right", 340: "dhc__dorsal_hippocampal_commissure_right", 341: "fi__fimbria_right", 342: "fx__columns_of_the_fornix_right", 343: "st__stria_terminalis_right", 344: "lfbst__thalamus_related_right", 345: "mfb__medial_forebrain_bundle_right", 346: "fr__fasciculus_retroflexus_right", 347: "pc__posterior_commissure_right", 348: "cst__corticospinal_tract_right", 349: "ml__medial_lemniscus_right", 350: "ll__lateral_lemniscus_right", 351: "mlf__medial_longitudinal_fascicle_right", 352: "scp__superior_cerebelar_peduncles_right", 353: "icp__inferior_cerebellar_peduncle_right", 354: "Vn__Trigeminal_nerve_right", 355: "cVIIIn__cochlear_nerve_right", 356: "VL__lateral_ventricle_right", 357: "V3__third_ventricle_right", 358: "V4__fourth_ventricle_right", 359: "AQ__cerebral_aqueduct_right", 360: "Brain__Whole_brain__root__right" }, dataset_name=task_name, license='hands off!')

#1001: "CH__Cerebrum_right", 1002: "grey__Basic_cell_groups_and_regions_right", 1003: "OB__Olfactory_bulb_right", 1004: "AON__Anterior_olfactory_nucleus", 1005: "FRP__Frontal_pole__cerebral_cortex_right", 1006: "ORB__Orbital_area_right", 1007: "PL__Prelimbic_area_right", 1008: "ILA__Infralimbic_area_right", 1009: "ACA__Anterior_cingulate_area_right", 1010: "AI__Agranular_insular_area_right", 1011: "GU__Gustatory_areas_right", 1012: "PIR__Piriform_area_right", 1013: "VISC__Visceral_area_right", 1014: "MOp__Primary_motor_area_right", 1015: "MOs__Secondary_motor_area_right", 1016: "SSp__Primary_somatosensory_area_right", 1017: "SSp-bfd__Primary_somatosensory_area__barrel_field_right", 1018: "SSs__Supplemental_somatosensory_area_right", 1019: "PTLp__Posterior_parietal_association_areas_right", 1020: "AUD__Auditory_areas_right", 1021: "TEa__Temporal_association_areas_right", 1022: "ECT__Ectorhinal_area_right", 1023: "PERI__Perirhinal_area_right", 1024: "RSP__Retrosplenial_area_right", 1025: "VIS__Visual_areas_right", 1026: "VISp__Primary_visual_area_right", 1027: "ENT__Entorhinal_area_right", 1028: "SUBR__Subicular_region_right", 1029: "HI__Hippocampus_right", 1030: "HIP__Hippocampal_region_right", 1031: "CA1__Field_CA1_right", 1032: "CA3__Field_CA3_right", 1033: "DG__Dentate_gyrus_right", 1034: "DG-sg__Dentate_gyrus__granule_cell_layer_right", 1035: "DG-po__Dentate_gyrus__polymorph_layer_right", 1036: "CLA__Claustrum_right", 1037: "CEA__Central_amygdalar_nucleus_right", 
#1038: "sAMY__Striatum-like_amygdalar_nuclei_right", 1039: "MEA__Medial_amygdalar_nucleus_right", 1040: "LA__Lateral_amygdalar_nucleus_right", 1041: "BLA__Basolateral_amygdalar_nucleus_right", 1042: "BMA__Basomedial_amygdalar_nucleus_right", 1043: "PA__Posterior_amygdalar_nucleus_right", 1044: "COAz__Cortical_amygdalar_zones_right", 1045: "EP__Endopiriform_nucleus_right", 1046: "STR__Striatum_right", 1047: "STRd__Striatum_dorsal_region_right", 1048: "ACB__Nucleus_accumbens_right", 1049: "FS__Fundus_of_striatum_right", 1050: "OT__Olfactory_tubercle_right", 1051: "GPe__Globus_pallidus__external_segment_right", 1052: "GPi__Globus_pallidus__internal_segment_right", 1053: "SI__Substantia_innominata_right", 1054: "MSC__Medial_septal_complex_right", 1055: "LS__Lateral_septal_nucleus_right", 1056: "BST__Bed_nuclei_of_the_stria_terminalis_right", 1057: "MA__Magnocellular_nucleus__Meynert__right", 1058: "TH__Thalamus_right", 1059: "AM__Anteromedial_nucleus_right", 1060: "AD__Anterodorsal_nucleus_right", 1061: "AV__Anteroventral_nucleus_of_thalamus_right", 1062: "LD__Lateral_dorsal_nucleus_of_the_thalamus_right", 1063: "VAL__Ventral_anterior-lateral_complex_of_the_thalamus_right", 1064: "VM__Ventral_medial_nucleus_of_the_thalamus_right", 1065: "VP__Ventral_posterior_complex_of_the_thalamus_right", 1066: "VPM__Ventral_posteromedial_nucleus_of_the_thalamus_right", 1067: "VPL__Ventral_posterolateral_nucleus_of_the_thalamus_right", 1068: "PT__Parataenial_nucleus_right", 1069: "PVT__Paraventricular_nucleus_of_the_thalamus_right", 1070: "RE__Nucleus_of_reuniens_right", 1071: "CL__Central_lateral_nucleus_of_the_thalamus_right", 
#1072: "CM__Central_medial_nucleus_of_the_thalamus_right", 1073: "PCN__Paracentral_nucleus_right", 1074: "PF__Parafascicular_nucleus_right", 1075: "PIL__Posterior_intralaminar_thalamic_nucleus_right", 1076: "MD__Mediodorsal_nucleus_of_thalamus_right", 1077: "LP__Lateral_posterior_nucleus_of_the_thalamus_right", 1078: "PO__Posterior_complex_of_the_thalamus_right", 1079: "MGd__Medial_geniculate_complex__dorsal_part_right", 1080: "MGv__Medial_geniculate_complex__ventral_part_right", 1081: "MGm__Medial_geniculate_complex__medial_part_right", 1082: "LGd__Dorsal_part_of_the_lateral_geniculate_complex_right", 1083: "LGv__Ventral_part_of_the_lateral_geniculate_complex_right", 1084: "RT__Reticular_nucleus_of_the_thalamus_right", 1085: "LH__Lateral_habenula_right", 1086: "MH__Medial_habenula_right", 1087: "HY__Hypothalamus_right", 1088: "MPN__Medial_preoptic_nucleus_right", 1089: "AHN__Anterior_hypothalamic_nucleus_right", 1090: "VMH__Ventromedial_hypothalamic_nucleus_right", 1091: "PH__Posterior_hypothalamic_nucleus_right", 1092: "MBO__Mammillary_body_right", 1093: "SCH__Suprachiasmatic_nucleus_right", 1094: "ARH__Arcuate_hypothalamic_nucleus_right", 1095: "PVH__Paraventricular_hypothalamic_nucleus_right", 1096: "LPO__Lateral_preoptic_area_right", 1097: "TU__Tuberal_nucleus_right", 1098: "LHA__Lateral_hypothalamic_area_right", 1099: "STN__Subthalamic_nucleus_right", 1100: "ZI__Zona_incerta_right", 1101: "SCs__Superior_colliculus__sensory_related_right", 1102: "SCm__Superior_colliculus__motor_related_right", 1103: "IC__Inferior_colliculus_right", 1104: "ICc__Inferior_colliculus__central_nucleus_right", 1105: "PBG__Parabigeminal_nucleus_right", 1106: "PPN__Pedunculopontine_nucleus_right", 1107: "PRT__Pretectal_region_right", 1108: "IIIR__Oculomotor_region_right", 1109: "PAG__Periaqueductal_gray_right", 1110: "RN__Red_nucleus_right", 1111: "MRN__Midbrain_reticular_nucleus_right", 1112: "CUN__Cuneiform_nucleus_right", 1113: "IPN__Interpeduncular_nucleus_right", 1114: "VTA__Ventral_tegmental_area_right", 1115: "SNc__Substantia_nigra__compact_part_right", 1116: "SNr__Substantia_nigra__reticular_part_right", 1117: "DR__Dorsal_nucleus_raphe_right", 1118: "P__Pons_right", 1119: "NLL__Nucleus_of_the_lateral_lemniscus_right", 1120: "SOC__Superior_olivary_complex_right", 1121: "PB__Parabrachial_nucleus_right", 1122: "PSV__Principal_sensory_nucleus_of_the_trigeminal_right", 1123: "PCG__Pontine_central_gray_right", 1124: "PG__Pontine_gray_right", 1125: "VMc__Trigeminal_motor_complex_right", 1126: "VII__Facial_motor_nucleus_right", 1127: "DTN__Dorsal_tegmental_nucleus_right", 1128: "LDT__Laterodorsal_tegmental_nucleus_right", 1129: "TRN__Tegmental_reticular_nucleus_right", 1130: "PRF__Pontine_reticular_formation_right", 1131: "RVC__Raphe_ventral_complex_right", 1132: "HEM__Hemispheric_regions_right", 1133: "VERM__Vermal_regions_right", 1134: "PFL__Paraflocculus_right", 1135: "FLNOD__Floccular_nodular_region_right", 1136: "DN__Dentate_nucleus_right", 1137: "IP__Interposed_nucleus_right", 
#1138: "FN__Fastigial_nucleus_right", 1139: "VeCB__Vestibulocerebellar_nucleus_right", 1140: "NTB__Nucleus_of_the_trapezoid_body_right", 1141: "SPVr__Spinal_nucleus_of_the_trigeminal_region_right", 1142: "NTS__Nucleus_of_the_solitary_tract_right", 1143: "DCO__Dorsal_cochlear_nucleus_right", 1144: "VCO__Ventral_cochlear_nucleus_right", 1145: "VNC__Vestibular_nuclei_right", 1146: "SPIV__Spinal_vestibular_nucleus_right", 1147: "DCN__Dorsal_column_nuclei_right", 1148: "IO__Inferior_olivary_complex_right", 1149: "PHY__Perihypoglossal_nuclei_right", 1150: "DMX__Dorsal_motor_nucleus_of_the_vagus_nerve_right", 1151: "XII__Hypoglossal_nucleus_right", 1152: "MRz__Medullary_reticular_zone_right", 1153: "IRN__Intermediate_reticular_nucleus_right", 1154: "MY-sat__Medulla__raphe__behavioral_state_related_right", 1155: "fiber_tracts__fiber_tracts_right", 1156: "cc__corpus_callosum_right", 1157: "cing__cingulum_bundle_right", 1158: "ac__anterior_commissure_right", 1159: "optc__optic_tract_and_chiasm_right", 1160: "dhc__dorsal_hippocampal_commissure_right", 1161: "fi__fimbria_right", 1162: "fx__columns_of_the_fornix_right", 1163: "st__stria_terminalis_right", 1164: "lfbst__thalamus_related_right", 1165: "mfb__medial_forebrain_bundle_right", 1166: "fr__fasciculus_retroflexus_right", 1167: "pc__posterior_commissure_right", 1168: "cst__corticospinal_tract_right", 1169: "ml__medial_lemniscus_right", 1170: "ll__lateral_lemniscus_right", 1171: "mlf__medial_longitudinal_fascicle_right", 1172: "scp__superior_cerebelar_peduncles_right", 1173: "icp__inferior_cerebellar_peduncle_right", 1174: "Vn__Trigeminal_nerve_right", 1175: "cVIIIn__cochlear_nerve_right", 1176: "VL__lateral_ventricle_right", 1177: "V3__third_ventricle_right", 1178: "V4__fourth_ventricle_right", 1179: "AQ__cerebral_aqueduct_right", 1180: "Brain__Whole_brain__root__right" }, dataset_name=task_name, license='hands off!')
